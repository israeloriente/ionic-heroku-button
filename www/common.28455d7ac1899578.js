"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{75062:(C,m,o)=>{o.d(m,{i:()=>h});const h=n=>n&&""!==n.dir?"rtl"===n.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},74560:(C,m,o)=>{o.r(m),o.d(m,{startFocusVisible:()=>t});const h="ion-focused",p=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],t=e=>{let i=[],c=!0;const s=e?e.shadowRoot:document,d=e||document.body,g=_=>{i.forEach(r=>r.classList.remove(h)),_.forEach(r=>r.classList.add(h)),i=_},u=()=>{c=!1,g([])},f=_=>{c=p.includes(_.key),c||g([])},w=_=>{if(c&&_.composedPath){const r=_.composedPath().filter(v=>!!v.classList&&v.classList.contains("ion-focusable"));g(r)}},x=()=>{s.activeElement===d&&g([])};return s.addEventListener("keydown",f),s.addEventListener("focusin",w),s.addEventListener("focusout",x),s.addEventListener("touchstart",u),s.addEventListener("mousedown",u),{destroy:()=>{s.removeEventListener("keydown",f),s.removeEventListener("focusin",w),s.removeEventListener("focusout",x),s.removeEventListener("touchstart",u),s.removeEventListener("mousedown",u)},setFocus:g}}},48117:(C,m,o)=>{o.d(m,{a:()=>h,b:()=>u,c:()=>i,d:()=>f,e:()=>l,f:()=>p,g:()=>n,h:()=>r,i:()=>c,j:()=>d,k:()=>w,l:()=>s,m:()=>e,n:()=>t,o:()=>g,p:()=>x,q:()=>Z,r:()=>_,s:()=>v});const h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Back</title><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",w="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",x="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Z="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Three</title><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Two</title><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},99270:(C,m,o)=>{o.d(m,{n:()=>_});var h=o(70655),n=o(6762),p=o(84995),t=o(6435),e=o(23349),i=o(69808);function c(r,v){if(1&r&&(t.TgZ(0,"ion-item",12),t.TgZ(1,"ion-label"),t._uU(2,"Local"),t.qZA(),t.TgZ(3,"ion-text",13),t._uU(4),t.qZA(),t.qZA()),2&r){const l=t.oxw();t.xp6(4),t.hij(" ",l.currentCar.originEdestiny," ")}}function s(r,v){1&r&&(t.TgZ(0,"span"),t._uU(1,"\u{1f1f5}\u{1f1f9}"),t.qZA())}function d(r,v){1&r&&(t.TgZ(0,"span"),t._uU(1,"\u{1f1e9}\u{1f1ea}"),t.qZA())}function g(r,v){1&r&&(t.TgZ(0,"span"),t._uU(1,"\u{1f1ea}\u{1f1f8}"),t.qZA())}function u(r,v){1&r&&(t.TgZ(0,"span"),t._uU(1,"\u{1f1eb}\u{1f1f7}"),t.qZA())}function f(r,v){if(1&r&&(t.TgZ(0,"ion-item",7),t.TgZ(1,"ion-label"),t._uU(2,"Abastecimento"),t.qZA(),t.TgZ(3,"ion-text",14),t._uU(4),t.qZA(),t.qZA()),2&r){const l=t.oxw();t.xp6(4),t.AsE(" ",l.currentCar.fuel," - ",l.currentCar.litro," litros ")}}function w(r,v){if(1&r&&(t.TgZ(0,"ion-item",7),t.TgZ(1,"ion-label",8),t._uU(2,"Kilometros"),t.qZA(),t.TgZ(3,"ion-text",9),t._uU(4),t.qZA(),t.qZA()),2&r){const l=t.oxw();t.xp6(4),t.hij(" ",l.currentCar.km," ")}}function x(r,v){if(1&r&&(t.TgZ(0,"ion-item",7),t.TgZ(1,"ion-label",8),t._uU(2,"N\xedvel de Combust\xedvel"),t.qZA(),t.TgZ(3,"ion-text",9),t._uU(4),t.qZA(),t.qZA()),2&r){const l=t.oxw();t.xp6(4),t.hij(" ",l.currentCar.nivelCombustivel,"/8 ")}}function Z(r,v){1&r&&(t.TgZ(0,"ion-item",7),t.TgZ(1,"ion-label"),t._uU(2,"Tem Danos?"),t.qZA(),t.TgZ(3,"ion-text",14),t._uU(4," Sim "),t.qZA(),t.qZA())}let _=(()=>{class r{constructor(l,a,A,T){this.params=l,this.global=a,this.modal=A,this.parse=T,this.flag="P",this.typeInfo=void 0,this.currentCar=this.params.get("car"),this.typeInfo=this.params.get("typeInfo")}ngOnInit(){this.currentCar=this.params.get("car"),this.currentCar.matriculaEstrangeira&&this.checkFlag(this.currentCar.plate)}deleteCar(){return(0,h.mG)(this,void 0,void 0,function*(){(yield this.global.confirmAlert("Opera\xe7\xe3o irrevers\xedvel","Deseja apagar este carro?","Cancelar","Apagar"))&&(yield this.global.simpleLoading(),this.isMov?this.parse.removeMov(this.currentCar.id).then(l=>(0,h.mG)(this,void 0,void 0,function*(){this.global.simpleToast("Movimento removido com sucesso",400),this.modal.dismiss(this.currentCar),yield this.global.cancelLoad()})).catch(l=>(0,h.mG)(this,void 0,void 0,function*(){yield this.global.cancelLoad(),"ParseError: 101 Object not found."==l?this.global.simpleToast("Voc\xea n\xe3o permiss\xe3o para remover este ve\xedculo",4e3):this.parse.erroValidators(l).then(a=>(0,h.mG)(this,void 0,void 0,function*(){return yield this.global.simpleToast(a,5e3)}))})):this.parse.removeAbs(this.currentCar.id).then(l=>(0,h.mG)(this,void 0,void 0,function*(){this.global.simpleToast("Abastecimento removido com sucesso",400),this.modal.dismiss(this.currentCar),yield this.global.cancelLoad()})).catch(l=>(0,h.mG)(this,void 0,void 0,function*(){yield this.global.cancelLoad(),"ParseError: 101 Object not found."==l?this.global.simpleToast("Voc\xea n\xe3o permiss\xe3o para remover este ve\xedculo",4e3):this.parse.erroValidators(l).then(a=>(0,h.mG)(this,void 0,void 0,function*(){return yield this.global.simpleToast(a,5e3)}))})))})}checkFlag(l){if(7==l.length){let a=l.slice(0,4),A=l.slice(4,6);this.flag=/^\d+$/.test(a)&&/^[a-zA-Z]+$/.test(A)?"E":"G"}else if(9==l.length){let a=l.slice(0,2),A=l.slice(4,6),T=l.slice(7,8);/^\d+$/.test(A)&&/^[a-zA-Z]+$/.test(a)&&/^[a-zA-Z]+$/.test(T)&&(this.flag="F")}}get isAbs(){return"Abs"==this.typeInfo}get isMov(){return"Mov"==this.typeInfo}}return r.\u0275fac=function(l){return new(l||r)(t.Y36(e.X1),t.Y36(n.U),t.Y36(e.IN),t.Y36(p.X))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-info-car"]],decls:43,vars:17,consts:[["mode","ios"],["slot","end"],["class","smallItens","data-cy","item-servico",4,"ngIf"],["data-cy","item-plate",1,"smallItens"],[2,"font-size","30px"],[4,"ngIf"],["class","smallItens",4,"ngIf"],[1,"smallItens"],["data-cy","label-zona"],["data-cy","user",1,"bold"],["color","dark","data-cy","close-modal",3,"click"],["color","danger",3,"click"],["data-cy","item-servico",1,"smallItens"],["slot","end",1,"bold"],[1,"bold"]],template:function(l,a){1&l&&(t.TgZ(0,"ion-content"),t.TgZ(1,"ion-list"),t.TgZ(2,"ion-item-divider",0),t.TgZ(3,"ion-label"),t._uU(4," Info "),t.qZA(),t.TgZ(5,"div",1),t._uU(6),t.ALo(7,"date"),t.qZA(),t.qZA(),t.YNc(8,c,5,1,"ion-item",2),t.TgZ(9,"ion-item",3),t.TgZ(10,"ion-label"),t._uU(11),t.qZA(),t.TgZ(12,"ion-text",4),t.YNc(13,s,2,0,"span",5),t.YNc(14,d,2,0,"span",5),t.YNc(15,g,2,0,"span",5),t.YNc(16,u,2,0,"span",5),t.qZA(),t.qZA(),t.YNc(17,f,5,2,"ion-item",6),t.YNc(18,w,5,1,"ion-item",6),t.YNc(19,x,5,1,"ion-item",6),t.TgZ(20,"ion-item",7),t.TgZ(21,"ion-label",8),t._uU(22,"Esta\xe7\xe3o"),t.qZA(),t.TgZ(23,"ion-text",9),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"ion-item",7),t.TgZ(26,"ion-label",8),t._uU(27,"Respons\xe1vel"),t.qZA(),t.TgZ(28,"ion-text",9),t._uU(29),t.qZA(),t.qZA(),t.TgZ(30,"ion-item",7),t.TgZ(31,"ion-label",8),t._uU(32,"Utilizador"),t.qZA(),t.TgZ(33,"ion-text",9),t._uU(34),t.qZA(),t.qZA(),t.YNc(35,Z,5,0,"ion-item",6),t.qZA(),t.qZA(),t.TgZ(36,"ion-footer"),t.TgZ(37,"ion-button",10),t.NdJ("click",function(){return a.modal.dismiss()}),t.TgZ(38,"ion-label"),t._uU(39,"Voltar"),t.qZA(),t.qZA(),t.TgZ(40,"ion-button",11),t.NdJ("click",function(){return a.deleteCar()}),t.TgZ(41,"ion-label"),t._uU(42,"Remover"),t.qZA(),t.qZA(),t.qZA()),2&l&&(t.xp6(6),t.Oqu(t.xi3(7,14,a.currentCar.created,"HH:mm - dd/MM/YYYY")),t.xp6(2),t.Q6J("ngIf",a.isMov),t.xp6(3),t.Oqu(a.currentCar.plate),t.xp6(2),t.Q6J("ngIf","P"==a.flag),t.xp6(1),t.Q6J("ngIf","G"==a.flag),t.xp6(1),t.Q6J("ngIf","E"==a.flag),t.xp6(1),t.Q6J("ngIf","F"==a.flag),t.xp6(1),t.Q6J("ngIf",a.isAbs),t.xp6(1),t.Q6J("ngIf",a.isMov&&a.currentCar.km),t.xp6(1),t.Q6J("ngIf",a.isMov),t.xp6(5),t.hij(" ",a.currentCar.station.name?a.currentCar.station.name:a.currentCar.station.get("name")," "),t.xp6(5),t.hij(" ",a.currentCar.chef," "),t.xp6(5),t.hij(" ",a.currentCar.user.nome?a.currentCar.user.nome:a.currentCar.user.get("nome")||"Zebra Device"," "),t.xp6(1),t.Q6J("ngIf",a.isMov&&a.currentCar.impro))},directives:[e.W2,e.q_,e.rH,e.Q$,i.O5,e.Ie,e.yW,e.fr,e.YG],pipes:[i.uU],styles:[".bold[_ngcontent-%COMP%]{font-weight:500}","ion-button[_ngcontent-%COMP%]{width:48.5%;float:left}",".smallItens[_ngcontent-%COMP%]{font-size:14px;--min-height: 0;ion-label:{margin: 1vh 1vh;}}"]}),r})()},74545:(C,m,o)=>{o.d(m,{E:()=>s});var h=o(70655),n=o(6435),p=o(55041),t=o(6762),e=o(23349),i=o(69808);function c(d,g){if(1&d){const u=n.EpF();n.TgZ(0,"ion-item",1),n.NdJ("click",function(){const x=n.CHM(u).$implicit;return n.oxw().setEnterprice(x)}),n.TgZ(1,"ion-label"),n._uU(2),n.qZA(),n.qZA()}if(2&d){const u=g.$implicit;n.xp6(2),n.AsE("",u.name," (",u.zona.get("name"),")")}}let s=(()=>{class d{constructor(u,f){this.global=u,this.AC=f,this.response=new n.vpe}ngOnInit(){}setEnterprice(u){return(0,h.mG)(this,void 0,void 0,function*(){this.AC.Config.station=u,this.response.emit(),this.global.setStorage("currentStation",u.id),this.global.newDay()})}}return d.\u0275fac=function(u){return new(u||d)(n.Y36(t.U),n.Y36(p.y))},d.\u0275cmp=n.Xpm({type:d,selectors:[["app-select-station"]],outputs:{response:"response"},decls:5,vars:1,consts:[["button","","lines","none",3,"click",4,"ngFor","ngForOf"],["button","","lines","none",3,"click"]],template:function(u,f){1&u&&(n.TgZ(0,"ion-list"),n.TgZ(1,"ion-list-header"),n._uU(2," Onde voc\xea est\xe1 hoje? "),n.qZA(),n.TgZ(3,"ion-item-group"),n.YNc(4,c,3,2,"ion-item",0),n.qZA(),n.qZA()),2&u&&(n.xp6(4),n.Q6J("ngForOf",f.AC.getStations))},directives:[e.q_,e.yh,e.Ub,i.sg,e.Ie,e.Q$],encapsulation:2}),d})()},97739:(C,m,o)=>{o.d(m,{H:()=>i});var h=o(32916),n=o(20353),p=o(66688);function t(s){return!(0,p.k)(s)&&s-parseFloat(s)+1>=0}var e=o(72866);function i(s=0,d,g){let u=-1;return t(d)?u=Number(d)<1?1:Number(d):(0,e.K)(d)&&(g=d),(0,e.K)(g)||(g=n.P),new h.y(f=>{const w=t(s)?s:+s-g.now();return g.schedule(c,w,{index:0,period:u,subscriber:f})})}function c(s){const{index:d,period:g,subscriber:u}=s;if(u.next(d),!u.closed){if(-1===g)return u.complete();s.index=d+1,this.schedule(s,g)}}},56686:(C,m,o)=>{o.d(m,{o:()=>p});var h=o(42654);class n extends h.w{constructor(e,i){super()}schedule(e,i=0){return this}}class p extends n{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){if(this.closed)return this;this.state=e;const c=this.id,s=this.scheduler;return null!=c&&(this.id=this.recycleAsyncId(s,c,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(s,this.id,i),this}requestAsyncId(e,i,c=0){return setInterval(e.flush.bind(e,this),c)}recycleAsyncId(e,i,c=0){if(null!==c&&this.delay===c&&!1===this.pending)return i;clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const c=this._execute(e,i);if(c)return c;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let s,c=!1;try{this.work(e)}catch(d){c=!0,s=!!d&&d||new Error(d)}if(c)return this.unsubscribe(),s}_unsubscribe(){const e=this.id,i=this.scheduler,c=i.actions,s=c.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&c.splice(s,1),null!=e&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null}}},32268:(C,m,o)=>{o.d(m,{v:()=>n});let h=(()=>{class p{constructor(e,i=p.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,c){return new this.SchedulerAction(this,e).schedule(c,i)}}return p.now=()=>Date.now(),p})();class n extends h{constructor(t,e=h.now){super(t,()=>n.delegate&&n.delegate!==this?n.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}},20353:(C,m,o)=>{o.d(m,{P:()=>t});var h=o(56686);const t=new(o(32268).v)(h.o)}}]);